<!--
  GXP template for the wave client's landing page.
  Generate WaveClientPage.java file in gen/org/... with "ant gen_gxp".
  Author: kalman@google.com (Benjamin Kalman)
-->

<gxp:template
    name='org.waveprotocol.wave.examples.fedone.gxp.WaveClientPage'
    xmlns='http://www.w3.org/1999/xhtml'
    xmlns:call='http://google.com/2001/gxp/call'
    xmlns:gxp='http://google.com/2001/gxp'>

  <gxp:import class="org.json.JSONObject" />
  <gxp:import class="org.waveprotocol.wave.examples.fedone.gxp.LoginBar" />
  <gxp:param name='sessionJson' type='JSONObject' />
  <gxp:param name='clientFlags' type='JSONObject' />
  <gxp:param name='address' type='String' />

  <html>
    <head>
      <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
      <title>FedOne Web Client</title>
      <link rel="shortcut icon" href="/static/favicon.ico" />

      <!-- Session variables. -->
      <script type="text/javascript" language="javascript">
        var __session = <gxp:eval expr='sessionJson' />;
        var __client_flags = <gxp:eval expr='clientFlags' />;
      </script>

      <!-- GWT-compiled JS. -->
      <script type="text/javascript" language="javascript" src="webclient/webclient.nocache.js" />
      
    </head>

    <body>
      <!-- GWT history support. -->
      <iframe src="javascript:''" id="__gwt_historyFrame" style="position:absolute;width:0;height:0;border:0" />

      <call:LoginBar>
        <gxp:attr name='address'>
          <gxp:eval expr='address'/>
        </gxp:attr>
      </call:LoginBar>
      <div id="app" style="position:fixed; top:31px; right:0px; bottom:0px; left:0px;" />

      <noscript>
        <div style="width: 22em; position: absolute; left: 50%; margin-left: -11em; color: red; background-color: white; border: 1px solid red; padding: 4px; font-family: sans-serif">
          Your web browser must have JavaScript enabled
          in order for this application to display correctly.
        </div>
      </noscript>
    </body>
  </html>

</gxp:template>
